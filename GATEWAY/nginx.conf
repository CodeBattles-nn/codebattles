server {
  listen       80;
  
  gzip on;
  gzip_disable "msie6";

  gzip_vary on;
  gzip_proxied any;
  gzip_comp_level 6;
  gzip_buffers 16 8k;
  gzip_http_version 1.1;
  gzip_min_length 0;
  gzip_types text/plain application/javascript text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/vnd.ms-fontobject application/x-font-ttf font/opentype;

  location /api/check_system_callback {
    deny all;
  }

  location /api {
    proxy_pass http://backend:8000;
  }
  
  location /admin {
    proxy_pass http://backend:8000;
  }

   location /teacher {
    proxy_pass http://frontend:80/;
  }

   location /assets {
    proxy_pass http://frontend:80/assets;
  }

  location /cdn {
    proxy_pass http://frontend:80/cdn;
  }

  location /icons {
    proxy_pass http://frontend:80/icons;
  }



  location /frv2 {
    proxy_pass http://frontend-v2:80/frv2;
  }

   location / {
    proxy_pass http://frontend-v2:80/;
  }
}